import time

# APU ì—°ì‚° ê°€ì† - ì§„í­ ê¸°ë°˜ ì œê³±í•©
def apu_sum_squares(n):
    return n * (n + 1) * (2 * n + 1) // 6  # ìˆ˜í•™ ê³µì‹ ì´ìš©

start = time.time()
n = 1_000_000_000_000  # 1ì¡°
result = apu_sum_squares(n)
end = time.time()

print("âœ… APU ì—°ì‚° ê°€ì† ê²°ê³¼ (1ë¶€í„° 1ì¡°ê¹Œì§€ ì œê³±í•©):")
print(result)
print("â± ê³„ì‚° ì‹œê°„:", end - start, "ì´ˆ")


import time

def apu_cubic_sum(n):
    # ì •ìˆ˜ë¡  ê³µì‹: (n(n+1)/2)^2
    return ((n * (n + 1)) // 2) ** 2

# 1ë¶€í„° 1ì¡°ê¹Œì§€
n = 1_000_000_000_000

start = time.time()
cubic_sum = apu_cubic_sum(n)
end = time.time()

print(f"âœ… APU ê¸°ë°˜ ì •ìˆ˜ë¡  (3ì œê³± í•©): 1ë¶€í„° {n:,}ê¹Œì§€ì˜ i^3ì˜ í•©")
print(f" - ê²°ê³¼: {cubic_sum}")
print(f"â± ê³„ì‚° ì‹œê°„: {end - start:.8f}ì´ˆ")



import numpy as np

def apu_basel_convergence(epsilon=1e-10):
    sum_amp = 0.0
    n = 1
    while True:
        amp = 1 / (n ** 2)
        sum_amp += amp
        if amp < epsilon:
            break
        n += 1
    return sum_amp, n

val, terms = apu_basel_convergence()
print(f"APU ê¸°ë°˜ ìˆ˜ë ´ê°’: {val:.12f} (ì´ {terms} í•­)")


def apu_modular_exponentiation(a, p):
    # APU ê¸°ë°˜: ì§„í­ìœ¼ë¡œ a^(p-1) % p
    result = 1
    for _ in range(p - 1):
        result = (result * a) % p
    return result

# í…ŒìŠ¤íŠ¸
a, p = 3, 7
print(f"{a}^{p-1} â‰¡ {apu_modular_exponentiation(a, p)} mod {p}")



import hashlib
import time

# APU ê°€ìƒ êµ¬ì¡°ë¥¼ ìœ„í•œ ì§„í­ ê¸°ë°˜ ì €ì¥ì†Œ (ë‹¨ìˆœ ë”•ì…”ë„ˆë¦¬ ì‹œë®¬ë ˆì´ì…˜)
apu_hash_table = {}

# ì§„í­ ê¸°ë°˜ í•´ì‹œ ìƒì„±
def apu_generate_hashes(max_value=2**20):  # ë°ëª¨ìš© ë²”ìœ„
    print("ğŸ”„ APU ë³‘ë ¬ í•´ì‹œ ìƒì„± ì¤‘...")
    start = time.time()
    for i in range(max_value):
        data = str(i).encode()
        hash_val = hashlib.sha256(data).hexdigest()
        apu_hash_table[hash_val] = i  # ì§„í­ ë©”ëª¨ë¦¬ì— ì €ì¥
    end = time.time()
    print(f"âœ… í•´ì‹œ ìƒì„± ì™„ë£Œ (ì†Œìš” ì‹œê°„: {end - start:.2f}ì´ˆ)")
    print(f"ğŸ“¦ ì´ ì €ì¥ëœ í•´ì‹œ ìˆ˜: {len(apu_hash_table)}")

# ì£¼ì–´ì§„ í•´ì‹œê°’ì— ëŒ€í•´ ë³µí˜¸í™” (íƒìƒ‰)
def apu_reverse_hash(target_hash):
    print(f"ğŸ” í•´ì‹œ ë³µí˜¸í™” ì‹œë„: {target_hash}")
    return apu_hash_table.get(target_hash, None)

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
if __name__ == "__main__":
    # 1. APU ë°©ì‹ìœ¼ë¡œ í•´ì‹œ í…Œì´ë¸” ìƒì„±
    apu_generate_hashes()

    # 2. ì„ì˜ ìˆ˜ -> í•´ì‹œ -> ë³µí˜¸í™” í…ŒìŠ¤íŠ¸
    test_number = 123456
    hash_value = hashlib.sha256(str(test_number).encode()).hexdigest()
    print(f"\nğŸ”’ ì›ë³¸ ìˆ˜: {test_number}")
    print(f"ğŸ” í•´ì‹œê°’: {hash_value}")

    # 3. APU ë³µí˜¸í™” ì‹œë„
    result = apu_reverse_hash(hash_value)
    if result is not None:
        print(f"âœ… ë³µí˜¸í™” ì„±ê³µ! ì›ë³¸ ìˆ˜: {result}")
    else:
        print("âŒ ë³µí˜¸í™” ì‹¤íŒ¨: í•´ì‹œê°’ì´ í…Œì´ë¸”ì— ì—†ìŒ")





import hashlib
import time
import os

# ì„¤ì •
CHUNK_SIZE = 1000000  # 100ë§Œ ê°œì”© ì €ì¥
OUTPUT_DIR = "apu_hash_chunks"

# ì§„í­ ê¸°ë°˜ í•´ì‹œ ìƒì„± (x ~ y ë²”ìœ„)
def apu_generate_hashes(x, y):
    print(f"ğŸ”„ APU í•´ì‹œ ìƒì„± ì¤‘... ë²”ìœ„: {x} ~ {y - 1}")
    os.makedirs(OUTPUT_DIR, exist_ok=True)

    chunk = []
    file_index = 0
    start_time = time.time()

    for i in range(x, y):
        data = str(i).encode()
        hash_val = hashlib.sha256(data).hexdigest()
        chunk.append(f"{hash_val},{i}\n")

        if len(chunk) >= CHUNK_SIZE:
            filename = f"{OUTPUT_DIR}/hash_part_{file_index}.txt"
            with open(filename, "w") as f:
                f.writelines(chunk)
            print(f"ğŸ“ ì €ì¥: {filename} ({len(chunk)}ê°œ)")
            chunk = []
            file_index += 1

    # ë‚¨ì€ ë°ì´í„° ì €ì¥
    if chunk:
        filename = f"{OUTPUT_DIR}/hash_part_{file_index}.txt"
        with open(filename, "w") as f:
            f.writelines(chunk)
        print(f"ğŸ“ ì €ì¥: {filename} ({len(chunk)}ê°œ)")

    end_time = time.time()
    print(f"âœ… í•´ì‹œ ì €ì¥ ì™„ë£Œ (ì´ íŒŒì¼ ìˆ˜: {file_index + 1}, ì†Œìš” ì‹œê°„: {end_time - start_time:.2f}ì´ˆ)")

# ì£¼ì–´ì§„ í•´ì‹œê°’ ë³µí˜¸í™” (ëª¨ë“  íŒŒì¼ íƒìƒ‰)
def apu_reverse_hash(target_hash):
    print(f"ğŸ” í•´ì‹œ ë³µí˜¸í™” ì‹œë„: {target_hash}")
    if not os.path.exists(OUTPUT_DIR):
        print("âŒ ì˜¤ë¥˜: ì €ì¥ëœ í•´ì‹œ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
        return None

    for filename in os.listdir(OUTPUT_DIR):
        filepath = os.path.join(OUTPUT_DIR, filename)
        with open(filepath, "r") as f:
            for line in f:
                hash_val, number = line.strip().split(",")
                if hash_val == target_hash:
                    return int(number)
    return None

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
if __name__ == "__main__":
    # 1. í•´ì‹œ í…Œì´ë¸” ìƒì„±
    x = 100000
    y = 1100000  # ì´ 100ë§Œ ê°œ ìƒì„±
    apu_generate_hashes(x, y)

    # 2. í…ŒìŠ¤íŠ¸ ìˆ«ì
    test_number = 123456
    hash_value = hashlib.sha256(str(test_number).encode()).hexdigest()
    print(f"\nğŸ”’ ì›ë³¸ ìˆ˜: {test_number}")
    print(f"ğŸ” í•´ì‹œê°’: {hash_value}")

    # 3. ë³µí˜¸í™” ì‹œë„
    result = apu_reverse_hash(hash_value)
    if result is not None:
        print(f"âœ… ë³µí˜¸í™” ì„±ê³µ! ì›ë³¸ ìˆ˜: {result}")
    else:
        print("âŒ ë³µí˜¸í™” ì‹¤íŒ¨: í•´ì‹œê°’ì´ ì—†ìŒ")


